<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>PyCinemetrics WebUI</title>
    <link rel="stylesheet" href="/webui/styles.css" />
  </head>
  <body>
    <button id="mobile_menu_btn" class="mobile-menu-btn" aria-label="Open Menu">‚ò∞</button>

    <div class="layout">
      <aside id="sidebar" class="sidebar">
        <div class="sidebar-header">
          <h1>PyCinemetrics</h1>
          <p>Local: <code>http://localhost:8000</code></p>
        </div>
        <div class="nav-section">
          <div class="nav-section-title">Menu</div>
          <a href="#video" class="nav-item active" data-section="section-video">
            <span class="nav-item-icon">üé¨</span><span class="nav-item-text">Video</span>
          </a>
          <a href="#shotcut" class="nav-item" data-section="section-shotcut">
            <span class="nav-item-icon">‚úÇÔ∏è</span><span class="nav-item-text">Shotcut</span>
          </a>
          <a href="#colors" class="nav-item" data-section="section-colors">
            <span class="nav-item-icon">üé®</span><span class="nav-item-text">Colors</span>
          </a>
          <a href="#objects" class="nav-item" data-section="section-objects">
            <span class="nav-item-icon">üéØ</span><span class="nav-item-text">Objects</span>
          </a>
          <a href="#subtitles" class="nav-item" data-section="section-subtitles">
            <span class="nav-item-icon">üìù</span><span class="nav-item-text">Subtitles</span>
          </a>
          <a href="#shotscale" class="nav-item" data-section="section-shotscale">
            <span class="nav-item-icon">üìê</span><span class="nav-item-text">Shot Scale</span>
          </a>
          <a href="#faces" class="nav-item" data-section="section-faces">
            <span class="nav-item-icon">üôÇ</span><span class="nav-item-text">Faces</span>
          </a>
          <a href="#compare" class="nav-item" data-section="section-compare">
            <span class="nav-item-icon">üë•</span><span class="nav-item-text">Compare</span>
          </a>
          <a href="#results" class="nav-item" data-section="section-results">
            <span class="nav-item-icon">üìä</span><span class="nav-item-text">Results</span>
          </a>
        </div>
      </aside>
      <div id="sidebar_backdrop" class="sidebar-backdrop"></div>

      <main class="main-content">
        <div class="page-header">
          <h2 id="page_title">Video</h2>
          <p>Select a feature and start.</p>
          <div id="status" class="status"></div>
        </div>

        <section id="section-video" class="content-section active">
          <div class="card">
            <h2 class="card-title">Video Source</h2>
            <label for="video_path">Local video path</label>
            <input id="video_path" type="text" placeholder="e.g. C:\\videos\\movie.mp4" />
            <div id="dropzone" class="upload-area" title="Drag & drop a video here, or click to choose">
              Drag & drop a video file here, or click to choose (the path will be filled automatically)
              <input id="file_input" type="file" accept="video/*" hidden />
            </div>
          </div>
        </section>

        <section id="section-shotcut" class="content-section">
          <div class="card">
            <h2 class="card-title">Shotcut</h2>
            <div class="row">
              <div class="field">
                <label for="th">Threshold (th)</label>
                <input id="th" type="number" step="0.05" min="0" max="1" value="0.5" />
              </div>
            </div>
            <div class="actions">
              <button id="btn_shotcut" class="btn btn-primary">Run</button>
            </div>
          </div>
        </section>

        <section id="section-colors" class="content-section">
          <div class="card">
            <h2 class="card-title">Colors</h2>
            <div class="row">
              <div class="field">
                <label for="colors_count">Clusters</label>
                <input id="colors_count" type="number" min="2" max="12" value="5" />
              </div>
            </div>
            <div class="actions">
              <button id="btn_colors" class="btn btn-primary">Run</button>
            </div>
          </div>
        </section>

        <section id="section-objects" class="content-section">
          <div class="card">
            <h2 class="card-title">Objects</h2>
            <div class="actions">
              <button id="btn_objects" class="btn btn-primary">Run</button>
            </div>
          </div>
        </section>

        <section id="section-subtitles" class="content-section">
          <div class="card">
            <h2 class="card-title">Subtitles</h2>
            <div class="row">
              <div class="field">
                <label for="subtitle_value">Threshold</label>
                <input id="subtitle_value" type="number" min="1" max="255" value="48" />
              </div>
            </div>
            <div class="actions">
              <button id="btn_subtitles" class="btn btn-primary">Run</button>
            </div>
          </div>
        </section>

        <section id="section-shotscale" class="content-section">
          <div class="card">
            <h2 class="card-title">Shot Scale</h2>
            <div class="actions">
              <button id="btn_shotscale" class="btn btn-primary">Run</button>
            </div>
          </div>
        </section>

        <section id="section-faces" class="content-section">
          <div class="card">
            <h2 class="card-title">Faces</h2>
            <div class="faces">
              <div class="faces-block">
                <h3>Sample Library</h3>
                <div class="row">
                  <div class="field">
                    <label for="face_name">Name</label>
                    <input id="face_name" type="text" placeholder="e.g. Zhang San" />
                  </div>
                  <div class="field">
                    <label for="face_file">Upload face sample image</label>
                    <input id="face_file" type="file" accept="image/*" />
                  </div>
                </div>
                <div class="actions">
                  <button id="btn_face_add" class="btn btn-primary">Add Sample</button>
                  <button id="btn_face_list" class="btn btn-secondary">Refresh List</button>
                </div>
                <div id="faces_known" class="faces-grid"></div>
              </div>

              <div class="faces-block">
                <h3>Extract Faces from Keyframes</h3>
                <div class="actions">
                  <button id="btn_face_extract" class="btn btn-primary">Extract</button>
                </div>
                <div id="faces_results" class="faces-grid"></div>
              </div>
            </div>
          </div>
        </section>

        <section id="section-compare" class="content-section">
          <div class="card">
            <h2 class="card-title">Face Compare</h2>
            <div class="row">
              <div class="field">
                <label for="face_cmp_1">Image A</label>
                <input id="face_cmp_1" type="file" accept="image/*" />
              </div>
              <div class="field">
                <label for="face_cmp_2">Image B</label>
                <input id="face_cmp_2" type="file" accept="image/*" />
              </div>
            </div>
            <div class="actions">
              <button id="btn_face_compare" class="btn btn-primary">Compare</button>
            </div>
            <div class="faces-compare">
              <img id="face_compare_preview" alt="Preview" />
              <div id="face_compare_text" class="status"></div>
            </div>
          </div>
        </section>

        <section id="section-results" class="content-section">
          <div class="card">
            <h2 class="card-title">Results</h2>
            <div id="results" class="results"></div>
          </div>
        </section>
      </main>
    </div>

    <footer>
      <small>Local only ‚Äî not exposed to the internet</small>
    </footer>

    <script src="/webui/script.js"></script>
    <script src="/webui/spa.js"></script>
  </body>
  </html>

